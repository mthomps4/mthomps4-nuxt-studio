import{_ as J}from"./D2mbmvcV.js";import{_ as K}from"./rIpLTRnt.js";import{_ as Y}from"./BDo_d8YB.js";import{l as Z,am as W,an as q,aX as ee,d as H,ao as T,ap as te,aq as R,D as O,c as l,e as z,aj as U,ai as _,ak as P,g as w,F as X,ah as x,x as ne,aQ as M,aR as ae,aS as ie,w as D,aT as G,aU as oe,h as A,E as b,f as g,k as se,t as $,s as I,aW as re}from"./MhI7Mzfe.js";const le={wrapper:"flex items-center -space-x-px",base:"",rounded:"first:rounded-s-md last:rounded-e-md",default:{size:"sm",activeButton:{color:"primary"},inactiveButton:{color:"white"},firstButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-double-left-20-solid"},lastButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-double-right-20-solid"},prevButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-right-20-solid"}}},k=W(q.ui.strategy,q.ui.pagination,le),ue=W(q.ui.strategy,q.ui.button,ee),de=H({components:{UButton:T},inheritAttrs:!1,props:{modelValue:{type:Number,required:!0},pageCount:{type:Number,default:10},total:{type:Number,required:!0},max:{type:Number,default:7,validate(e){return e>=5&&e<Number.MAX_VALUE}},disabled:{type:Boolean,default:!1},size:{type:String,default:()=>k.default.size,validator(e){return Object.keys(ue.size).includes(e)}},to:{type:Function,default:null},activeButton:{type:Object,default:()=>k.default.activeButton},inactiveButton:{type:Object,default:()=>k.default.inactiveButton},showFirst:{type:Boolean,default:!1},showLast:{type:Boolean,default:!1},firstButton:{type:Object,default:()=>k.default.firstButton},lastButton:{type:Object,default:()=>k.default.lastButton},prevButton:{type:Object,default:()=>k.default.prevButton},nextButton:{type:Object,default:()=>k.default.nextButton},divider:{type:String,default:"â€¦"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:s}){const{ui:h,attrs:p}=te("pagination",R(e,"ui"),k,R(e,"class")),t=O({get(){return e.modelValue},set(o){s("update:modelValue",o)}}),y=O(()=>Array.from({length:Math.ceil(e.total/e.pageCount)},(o,u)=>u+1)),c=O(()=>{const o=y.value.length,u=t.value,j=Math.max(e.max,5),f=Math.floor((Math.min(j,o)-5)/2),L=u-f,N=u+f,n=L-1>1,F=N+1<o,a=[];if(o<=j){for(let r=1;r<=o;r++)a.push(r);return a}if(a.push(1),n&&a.push(e.divider),!F){const r=u+f+2-o;for(let m=u-f-r;m<=u-f-1;m++)a.push(m)}for(let r=Math.max(2,L);r<=Math.min(o,N);r++)a.push(r);if(!n){const r=1-(u-f-2);for(let m=u+f+1;m<=u+f+r;m++)a.push(m)}return F&&a.push(e.divider),N<o&&a.push(o),a.length>=3&&a[1]===e.divider&&a[2]===3&&(a[1]=2),a.length>=3&&a[a.length-2]===e.divider&&a[a.length-1]===a.length&&(a[a.length-2]=a.length-1),a}),i=O(()=>t.value>1),B=O(()=>t.value<y.value.length);function v(){i.value&&(t.value=1)}function S(){B.value&&(t.value=y.value.length)}function V(o){typeof o!="string"&&(t.value=o)}function d(){i.value&&t.value--}function C(){B.value&&t.value++}return{ui:h,attrs:p,currentPage:t,pages:y,displayedPages:c,canGoLastOrNext:B,canGoFirstOrPrev:i,onClickPrev:d,onClickNext:C,onClickPage:V,onClickFirst:v,onClickLast:S}}});function ce(e,s,h,p,t,y){const c=T;return l(),z("div",P({class:e.ui.wrapper},e.attrs),[U(e.$slots,"first",{onClick:e.onClickFirst},()=>[e.firstButton&&e.showFirst?(l(),_(c,P({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.firstButton||{},...e.firstButton},{ui:{rounded:""},"aria-label":"First",onClick:e.onClickFirst}),null,16,["size","disabled","class","onClick"])):w("",!0)]),U(e.$slots,"prev",{onClick:e.onClickPrev},()=>[e.prevButton?(l(),_(c,P({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.prevButton||{},...e.prevButton},{ui:{rounded:""},"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["size","disabled","class","onClick"])):w("",!0)]),(l(!0),z(X,null,x(e.displayedPages,(i,B)=>{var v;return l(),_(c,P({key:`${i}-${B}`,to:typeof i=="number"?(v=e.to)==null?void 0:v.call(e,i):null,size:e.size,disabled:e.disabled,label:`${i}`,ref_for:!0},i===e.currentPage?{...e.ui.default.activeButton||{},...e.activeButton}:{...e.ui.default.inactiveButton||{},...e.inactiveButton},{class:[{"pointer-events-none":typeof i=="string","z-[1]":i===e.currentPage},e.ui.base,e.ui.rounded],ui:{rounded:""},onClick:()=>e.onClickPage(i)}),null,16,["to","size","disabled","label","class","onClick"])}),128)),U(e.$slots,"next",{onClick:e.onClickNext},()=>[e.nextButton?(l(),_(c,P({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.nextButton||{},...e.nextButton},{ui:{rounded:""},"aria-label":"Next",onClick:e.onClickNext}),null,16,["size","disabled","class","onClick"])):w("",!0)]),U(e.$slots,"last",{onClick:e.onClickLast},()=>[e.lastButton&&e.showLast?(l(),_(c,P({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.lastButton||{},...e.lastButton},{ui:{rounded:""},"aria-label":"Last",onClick:e.onClickLast}),null,16,["size","disabled","class","onClick"])):w("",!0)])],16)}const fe=Z(de,[["render",ce]]),me={class:"text-3xl font-bold my-8"},ge={key:0,className:"text-lg"},he={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"},pe={class:"flex flex-col gap-y-4"},ye={class:"ring-1 ring-gray-200 dark:ring-gray-800 relative overflow-hidden aspect-[16/9] w-full rounded-lg pointer-events-none"},ve={class:"flex flex-col justify-between flex-1"},be={class:"flex-1"},ke={class:"text-gray-900 dark:text-white text-xl font-semibold truncate group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors duration-200"},Be={key:0,class:"text-cyan-600 text-sm font-bold my-2"},Ce={class:"text-base text-gray-500 dark:text-gray-400 mt-1 line-clamp-3"},_e={class:"text-right text-sm my-2 text-gray-500 dark:text-gray-400 font-medium pointer-events-none"},we={key:0,class:"text-xs text-right text-gray-500"},E=9,Oe=H({__name:"index",async setup(e){let s,h;const p=ne(),{data:t}=([s,h]=M(()=>G("blog",()=>I("main").where({path:"/blog"}).findOne())),s=await s,h(),s);if(!t||!(t!=null&&t.value))throw ae({statusCode:404,statusMessage:"Page not found",fatal:!0});const y=Array.isArray(p.query.page)?parseInt(p.query.page[0],10)||1:parseInt(p.query.page,10)||1,c=(y-1)*E,i=p.query.tag,{data:B}=([s,h]=M(()=>G("posts",()=>{const d=I("blog").where({isDir:{$ne:!0}}).sort({publishedOn:-1}).limit(E).skip(c);return i&&d.where({tags:{$contains:i},isDir:{$ne:!0}}),d.find()})),s=await s,h(),s),{data:v}=([s,h]=M(async()=>G("totalPosts",async()=>{let d=I("blog");return i&&(d=d.where({tags:{$contains:i}})),(await d.find()).length})),s=await s,h(),s),S=v==null?void 0:v.value;function V(d){const C=new URLSearchParams({page:d.toString()});i&&(Array.isArray(i)?i.forEach(o=>C.append("tag",o)):C.append("tag",i)),window.location.href=`/blog?${C.toString()}`}return ie({title:t==null?void 0:t.value.title,meta:[{name:"description",content:t==null?void 0:t.value.description},{property:"og:title",content:t==null?void 0:t.value.title},{property:"og:description",content:t==null?void 0:t.value.description},{name:"twitter:title",content:t==null?void 0:t.value.title},{name:"twitter:description",content:t==null?void 0:t.value.description},{property:"og:image",content:`/__og-image__/image${p.path}/og.png`},{name:"twitter:image",content:`/__og-image__/image${p.path}/og.png`}]}),(d,C)=>{const o=J,u=K,j=Y,f=re,L=fe,N=oe;return l(),_(N,null,{default:D(()=>[A(o,{title:b(t).title,description:b(t).description},null,8,["title","description"]),g("section",null,[g("h2",me,[se(" Latest Posts "),b(i)?(l(),z("span",ge,"#"+$(b(i)),1)):w("",!0)]),g("section",he,[(l(!0),z(X,null,x(b(B),(n,F)=>(l(),_(f,{key:F,to:n.path},{default:D(()=>[A(j,{class:"group"},{default:D(()=>{var a,r,m;return[g("div",pe,[g("div",ye,[A(u,{src:(a=n==null?void 0:n.image)==null?void 0:a.src,alt:(r=n==null?void 0:n.image)==null?void 0:r.alt,class:"object-cover object-top w-full h-full transform transition-transform duration-200 group-hover:scale-105"},null,8,["src","alt"])]),g("div",ve,[g("div",be,[g("h3",ke,$(n==null?void 0:n.title),1),n!=null&&n.headline?(l(),z("h4",Be," Series: "+$(n==null?void 0:n.headline),1)):w("",!0),g("p",Ce,$(n==null?void 0:n.description),1),g("p",_e,$(n==null?void 0:n.publishedOn),1)])])]),n!=null&&n.tags?(l(),z("p",we,$((m=n==null?void 0:n.tags)==null?void 0:m.map(Q=>`#${Q}`).join(" ")),1)):w("",!0)]}),_:2},1024)]),_:2},1032,["to"]))),128))]),A(L,{"model-value":b(y),total:b(S),"page-count":E,skip:c,page:b(y),size:"sm",class:"flex justify-center items-center my-8","onUpdate:modelValue":V},null,8,["model-value","total","page"])])]),_:1})}}});export{Oe as default};
